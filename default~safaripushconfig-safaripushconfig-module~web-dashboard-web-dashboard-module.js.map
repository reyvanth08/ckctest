{"version":3,"sources":["webpack:///./src/app/safaripushconfig/safaripushconfig.component.html","webpack:///./src/app/safaripushconfig/safaripushconfig.component.scss","webpack:///./src/app/safaripushconfig/safaripushconfig.component.ts"],"names":[],"mappings":"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","file":"default~safaripushconfig-safaripushconfig-module~web-dashboard-web-dashboard-module.js","sourcesContent":["module.exports = \"<form [formGroup]=\\\"safariForm\\\">\\r\\n  <section id=\\\"ngx\\\" class=\\\"mb-3\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-12\\\">\\r\\n          <!-- <div class=\\\"content-header\\\">SafariPushConfig</div> -->\\r\\n    </div>\\r\\n  </div>\\r\\n    <br />\\r\\n<div class=\\\"row\\\">\\r\\n      <div class=\\\"col-sm-12\\\">\\r\\n        <div class=\\\"card\\\">\\r\\n          <div class=\\\"card-body\\\">\\r\\n              <div class=\\\"card-block\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                  <div class=\\\"col-md-12\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <div class=\\\"custom-file center-block d-block\\\">\\r\\n                        <input type=\\\"file\\\" accept=\\\".p12\\\" class=\\\"custom-file-input\\\" id=\\\"upload\\\" formControlName=\\\"upload\\\" (change)=\\\"uploadFiles($event.target.files,'upload','p12')\\\">\\r\\n                        <label class=\\\"custom-file-label\\\" for=\\\"upload\\\" #uploadLabel>Upload p12 file</label>\\r\\n                       </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <div class=\\\"custom-file center-block d-block\\\">\\r\\n                        <input type=\\\"file\\\" accept=\\\".pem\\\"  class=\\\"custom-file-input\\\" id=\\\"upload1\\\" formControlName=\\\"upload1\\\" (change)=\\\"uploadFiles($event.target.files,'upload1','pem')\\\">\\r\\n                        <label class=\\\"custom-file-label\\\" for=\\\"upload1\\\" #uploadLabel1> Upload Apple WWDRCA file</label>\\r\\n                       </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <div class=\\\"custom-file center-block d-block\\\">\\r\\n                        <!-- <input type=\\\"file\\\" accept=\\\".cer\\\" class=\\\"custom-file-input\\\" id=\\\"upload2\\\" formControlName=\\\"uploadFile\\\" (change)=\\\"uploadFiles($event.target.files,'uploadFile')\\\">\\r\\n                        <label class=\\\"custom-file-label\\\" for=\\\"upload2\\\" #uploadLabel2>Upload Push Certificate</label> -->\\r\\n                        <input type=\\\"file\\\" accept=\\\".cer\\\" class=\\\"custom-file-input\\\" id=\\\"uploadFile\\\" formControlName=\\\"uploadFile\\\" (change)=\\\"uploadFiles($event.target.files,'uploadFile','cer')\\\">\\r\\n                        <label class=\\\"custom-file-label\\\" for=\\\"uploadFile\\\" #uploadLabel2>Upload Push Certificate</label>\\r\\n                       </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <div class=\\\"custom-file center-block d-block\\\">\\r\\n                        <input type=\\\"file\\\" accept=\\\".png\\\" class=\\\"custom-file-input\\\" id=\\\"upload3\\\" formControlName=\\\"upload3\\\" (change)=\\\"upload3($event.target.files)\\\">\\r\\n                        <label class=\\\"custom-file-label\\\" for=\\\"upload3\\\" #uploadLabel3>Upload Icon File </label>\\r\\n                       </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label for=\\\"url\\\">Pem Password</label>\\r\\n                      <input type=\\\"password\\\" class=\\\"form-control\\\"  formControlName=\\\"pwd\\\" id=\\\"password\\\" name=\\\"pwd\\\">\\r\\n                    </div>\\r\\n\\r\\n                      <!-- <div class=\\\"form-group\\\">\\r\\n                        <label for=\\\"basicInput\\\">Safari Push ID</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"safari\\\" formControlName=\\\"safari\\\">\\r\\n                      </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label for=\\\"url\\\">Safari Push URL</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\"  formControlName=\\\"push\\\" pattern=\\\"https?://.+\\\" id=\\\"url\\\" name=\\\"url\\\">\\r\\n                    </div> -->\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <label for=\\\"basicInput\\\">Safari Push ID</label>\\r\\n                      <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"safari\\\" formControlName=\\\"safari\\\">\\r\\n                      <!-- <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"safari\\\" id=\\\"safariID\\\" formControlName=\\\"safari\\\"> -->\\r\\n                      <small class=\\\"form-text text-muted green\\\">Website Push ID, as specified in your developer account.</small>\\r\\n                    </div>\\r\\n\\r\\n                <div class=\\\"form-group\\\">\\r\\n                  <label for=\\\"url\\\">URL Format String</label>\\r\\n                  <!-- <input type=\\\"text\\\" class=\\\"form-control\\\"  formControlName=\\\"push\\\" pattern=\\\"https?://.+\\\" id=\\\"url\\\" name=\\\"url\\\"> -->\\r\\n                  <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"url\\\" name=\\\"url\\\" id=\\\"url\\\" formControlName=\\\"push\\\" required>\\r\\n                  <small class=\\\"form-text text-muted green\\\">URL to go to when the notification is clicked. Use %@ as a placeholder for arguments. Ex. https://domain.com.au/%@/</small>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label for=\\\"url\\\">Allowed Domains</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\"  formControlName=\\\"domains\\\" id=\\\"allowedDomains\\\" name=\\\"allowedDomains\\\">\\r\\n                    <small class=\\\"form-text text-muted green\\\">An array of websites that are allowed. Ex. [\\\"https://domain.com.au\\\",\\\"https://safaripush.click365.com.au\\\",\\\"https://www.domain.com.au\\\"]</small>\\r\\n                  </div>\\r\\n\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label for=\\\"url\\\">Authentication Token</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\"  formControlName=\\\"token\\\" id=\\\"authenticationToken\\\" name=\\\"authenticationToken\\\">\\r\\n                  </div>\\r\\n\\r\\n                  <div style=\\\"text-align: left;\\\">\\r\\n              \\t\\t\\t<button type=\\\"submit\\\" class=\\\"btn btn-success btn-raised\\\" id=\\\"save\\\" [disabled]=\\\"!safariForm.valid || !isURL()\\\" (click)=\\\"save()\\\">{{action}}</button>\\r\\n              \\t\\t</div>\\r\\n              </div>\\r\\n              </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n    </div>\\r\\n</div>\\r\\n      </section>\\r\\n      </form>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NhZmFyaXB1c2hjb25maWcvc2FmYXJpcHVzaGNvbmZpZy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit,ViewChild,ElementRef } from '@angular/core';\r\nimport { HttpClientModule, HttpClient, HttpRequest, HttpResponse, HttpEventType } from '@angular/common/http';\r\nimport { SettingsService } from '../shared/data/settings.service';\r\nimport { FormControl,FormGroup, FormArray, FormBuilder, Validators } from '@angular/forms';\r\nimport swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-safaripushconfig',\r\n  templateUrl: './safaripushconfig.component.html',\r\n  styleUrls: ['./safaripushconfig.component.scss']\r\n})\r\nexport class SafaripushconfigComponent implements OnInit {\r\n  @ViewChild('uploadLabel') uploadLabel : ElementRef;\r\n  @ViewChild('uploadLabel1') uploadLabel1 : ElementRef;\r\n  @ViewChild('uploadLabel2') uploadLabel2 : ElementRef;\r\n  @ViewChild('uploadLabel3') uploadLabel3 : ElementRef;\r\n\r\n    safariForm:FormGroup;\r\n    //formData: FormGroup;\r\n    files = [];\r\n    p12;\r\n    pem;\r\n    cer;\r\n    img;\r\n\r\n    url;\r\n    water;\r\n    sitedir;\r\n    loader:boolean = false;\r\n    serve = '';\r\n    file = '';\r\n    apple = '';\r\n    p12File='';\r\n    wwdrcaFile='';\r\n    pushCertificate='';\r\n    icon='';\r\n    safariId='';\r\n    URL='';\r\n    form = {\r\n    'image': '',\r\n    };\r\n    formData;\r\n    action='Add';\r\n    public file1;\r\n    public file2;\r\n    public file3;\r\n    public imageIcon;\r\n  constructor(private _FB: FormBuilder,public settingsservice: SettingsService, private http: HttpClient) {\r\n}\r\n  ngOnInit() {\r\n    this.safariForm = new FormGroup({\r\n          'upload': new FormControl(null, [Validators.required]),\r\n          'upload1': new FormControl(null, [Validators.required]),\r\n          'uploadFile': new FormControl(null, [Validators.required]),\r\n          'upload3': new FormControl(null, [Validators.required]),\r\n          'safari': new FormControl(null, [Validators.required]),\r\n          'push': new FormControl(null, [Validators.required]),\r\n          'token': new FormControl(null, [Validators.required]),\r\n          'pwd': new FormControl(null, [Validators.required]),\r\n          'domains': new FormControl(null, [Validators.required])\r\n    \t});\r\n\r\n      this.settingsservice.getSafariConfig().then(data => {\r\n    // alert(JSON.stringify(data));\r\n          console.log('water - ' + JSON.stringify(data));\r\n      if(data['data'].length > 0)\r\n      {\r\n        this.action='Update';\r\n        let pushid = data['data'][0]['safari_push_id'];\r\n        (<HTMLInputElement>document.getElementById('safari')).value = pushid;\r\n        this.uploadLabel.nativeElement.innerHTML=data['data'][0]['p12_file'];\r\n        this.uploadLabel1.nativeElement.innerHTML=data['data'][0]['wwdrca_file'];\r\n        this.uploadLabel2.nativeElement.innerHTML=data['data'][0]['push_certificate'];\r\n        this.uploadLabel3.nativeElement.innerHTML=data['data'][0]['icon_file'];\r\n        (<HTMLInputElement>document.getElementById('allowedDomains')).value=data['data'][0]['allowedDomains'];\r\n        (<HTMLInputElement>document.getElementById('password')).value=data['data'][0]['password'];\r\n        (<HTMLInputElement>document.getElementById('url')).value=data['data'][0]['safari_push_url'];\r\n        (<HTMLInputElement>document.getElementById('authenticationToken')).value=data['data'][0]['token'];\r\n      }\r\n  });\r\n\r\n    // this.settingsservice.getSettings().then(data => {\r\n    //    console.log('data - ' + data['settings'][0]['sitedir']);\r\n    //    if(data['status'] == 'success'){\r\n    //      this.sitedir = data['settings'][0]['sitedir'];\r\n    //    }\r\n    // });\r\n  }\r\n\r\n  /*upload(files: File[]){\r\n  this.uploadLabel.nativeElement.innerHTML = files[0].name;\r\n    this.loader = true;\r\n    this.url = 'https://cockburncrc.com.au/members/usermanagement/safaripushtemp/'+files[0].name;\r\n    console.log('dxcvdx - ' + this.url);\r\n    this.uploadFileProgress(files);\r\n  }\r\n\r\n  uploadFileProgress(files: File[]){\r\n    console.log('formData - ' + files);\r\n    var formData = new FormData();\r\n    console.log('formData - ' + formData);\r\n    Array.from(files).forEach(f => formData.append('file',f));\r\n    this.http.post('https://cockburncrc.com.au/members/usermanagement/uploadSafariFile.php?fld=safaripushtemp', formData)\r\n      .subscribe(event => {\r\n        this.loader = false;\r\n    });\r\n  }\r\n\r\n  upload1(files: File[]){\r\n  this.uploadLabel1.nativeElement.innerHTML = files[0].name;\r\n    this.loader = true;\r\n    this.url = 'https://cockburncrc.com.au/members/usermanagement/safaripushtemp/'+files[0].name;\r\n    console.log('dxcvdx - ' + this.url);\r\n    this.GetUploadFileProgress(files);\r\n  }\r\n\r\n  GetUploadFileProgress(files: File[]){\r\n    console.log('formData - ' + files);\r\n    var formData = new FormData();\r\n    console.log('formData - ' + formData);\r\n    Array.from(files).forEach(f => formData.append('file',f));\r\n    this.http.post('https://cockburncrc.com.au/members/usermanagement/uploadSafariFile.php?fld=safaripushtemp', formData)\r\n      .subscribe(event => {\r\n        this.loader = false;\r\n    });\r\n  }*/\r\n  uploadFiles(files: File[],fileType,extension){\r\n    console.log('File - ' + fileType)\r\n    var ext = (<HTMLInputElement>document.getElementById(fileType)).value.match(/\\.([^\\.]+)$/)[1];\r\n\r\n    switch (ext) {\r\n      case extension:\r\n        break;\r\n      default:\r\n        swal('Error!','Only ' + extension + ' extension is allowed','error');\r\n        (<HTMLInputElement>document.getElementById(fileType)).value = '';\r\n        return;\r\n    }\r\n    this.loader = true;\r\n    if(fileType == 'upload'){\r\n      this.uploadLabel.nativeElement.innerHTML = files[0].name;\r\n      this.file1 = files[0].name;//'https://cockburncrc.com.au/members/usermanagement/safari_push/' + this.safariForm.controls['safari'].value + '/' + files[0].name;\r\n      this.p12 = files;\r\n\r\n      //this.safariForm.controls['upload'].setValue('https://cockburncrc.com.au/members/usermanagement/safaripushtemp/'+files[0].name);\r\n    }\r\n    if(fileType == 'upload1'){\r\n      this.uploadLabel1.nativeElement.innerHTML = files[0].name;\r\n      this.file2 = files[0].name;//'https://cockburncrc.com.au/members/usermanagement/safari_push/' + this.safariForm.controls['safari'].value + '/' + files[0].name;\r\n      this.pem = files;\r\n      //this.safariForm.controls['upload1'].setValue('https://cockburncrc.com.au/members/usermanagement/safaripushtemp/'+files[0].name);\r\n    }\r\n    if(fileType == 'uploadFile'){\r\n      this.uploadLabel2.nativeElement.innerHTML = files[0].name;\r\n      this.file3 = files[0].name;//'https://cockburncrc.com.au/members/usermanagement/safari_push/' + this.safariForm.controls['safari'].value + '/' + files[0].name;\r\n      //this.safariForm.controls['uploadFile'].setValue('https://cockburncrc.com.au/members/usermanagement/safaripushtemp/'+files[0].name);  this.files = files;\r\n      this.cer = files;\r\n    }\r\n    // this.uploadFileAndProgress(files);\r\n  }\r\n\r\n  uploadFileAndProgress(files: File[]){\r\n    console.log('formData - ' + files);\r\n    var formData = new FormData();\r\n    console.log('formData - ' + formData);\r\n    Array.from(files).forEach(f => formData.append('file',f));\r\n    this.http.post('https://cockburncrc.com.au/members/usermanagement/upload_safari_push_files.php?safariId='+this.formData.safariId, formData)\r\n      .subscribe(event => {\r\n        this.loader = false;\r\n    });\r\n  }\r\n  upload3(files: File[]){\r\n    var ext = (<HTMLInputElement>document.getElementById('upload3')).value.match(/\\.([^\\.]+)$/)[1];\r\n\r\n    switch (ext) {\r\n      case 'png':\r\n      // case 'gif':\r\n      // case 'jpg':\r\n      // case 'jpeg':\r\n      // case 'tiff':\r\n      // case 'tif':\r\n        break;\r\n      default:\r\n        swal('Error!','Only .png extension allowed','error');\r\n        (<HTMLInputElement>document.getElementById('upload3')).value = '';\r\n        return;\r\n      }\r\n\r\n  this.uploadLabel3.nativeElement.innerHTML = files[0].name;\r\n    this.loader = true;\r\n    this.img = files;\r\n\r\n    this.imageIcon = files[0].name;//'https://cockburncrc.com.au/members/usermanagement/safari_push/' + this.safariForm.controls['safari'].value + '/' + files[0].name;\r\n    //this.safariForm.controls['upload3'].setValue('https://cockburncrc.com.au/members/usermanagement/images/'+files[0].name);\r\n    console.log('dxcvdx - ' + this.url);\r\n    // this.uploadPushProgress(files);\r\n  }\r\n\r\n\r\n  uploadPushProgress(files: File[]){\r\n    var formData = new FormData();\r\n    Array.from(files).forEach(f => formData.append('file',f));\r\n\r\n    this.http.post('https://cockburncrc.com.au/members/usermanagement/upload_safari_push_iconset.php?safariId='+this.formData.safariId, formData)\r\n      .subscribe(event => {\r\n        this.loader = false;\r\n        if(event && event['status'] == \"Sorry, your file is too large.\"){\r\n          alert('Sorry, your file is too large. Recommended Size: 192x192.');\r\n          this.uploadLabel3.nativeElement.innerHTML = '';\r\n        }\r\n    });\r\n  }\r\n\r\n  isURL()\r\n  {\r\n    if (this.url == null) {\r\n      return false;\r\n    }\r\n    // Assigning the url format regular expression\r\n      let urlPattern = \"^http(s{0,1})://[a-zA-Z0-9_/\\\\-\\\\.]+\\\\.([A-Za-z/]{2,5})[a-zA-Z0-9_/\\\\&\\\\?\\\\=\\\\-\\\\.\\\\~\\\\%]*\";\r\n    return this.url.match(urlPattern);\r\n  }\r\n  save() {\r\n    let pushid = this.safariForm.controls['safari'].value;\r\n    this.formData = {\r\n    safariId: pushid,\r\n    p12File: '/home/click365com/public_html/usermanagement/safari_push/' + pushid + '/' + this.file1,//this.file1,\r\n    wwdrcaFile: '/home/click365com/public_html/usermanagement/safari_push/' + pushid + '/' + this.file2,//this.file2,\r\n    pushCertificate: '/home/click365com/public_html/usermanagement/safari_push/' + pushid + '/' + this.file3,////this.file3,\r\n    icon: '/home/click365com/public_html/usermanagement/safari_push/' + pushid + '/' + this.imageIcon,//this.imageIcon,\r\n    URL: this.safariForm.controls['push'].value,\r\n    allowedDomains: this.safariForm.controls['domains'].value,\r\n    password: this.safariForm.controls['pwd'].value,\r\n    token: this.safariForm.controls['token'].value,\r\n    org_id: localStorage.getItem('oi')//,\r\n    // 'file':{'tmp_name':this.img}\r\n    }\r\n\r\nthis.uploadPushProgress(this.img);\r\n\r\nthis.uploadFileAndProgress(this.p12);\r\nthis.uploadFileAndProgress(this.pem);\r\nthis.uploadFileAndProgress(this.cer);\r\nthis.uploadFileAndProgress(this.img);\r\n// this.formData.set('file',fileArray);\r\n\r\n  // Array.from(this.p12).forEach(f => this.formData.append('file',f));\r\n  // Array.from(this.pem).forEach(f => this.formData.append('file',f));\r\n\r\n// alert(JSON.stringify(this.formData));\r\n  console.log('push-' + JSON.stringify(this.formData));\r\n  this.settingsservice.saveSafariConfig(this.formData,this.action).then(data => {\r\nswal('Success!','Saved Successfully','success');\r\n    console.log('water - ' + JSON.stringify(data));\r\n});\r\n}\r\n}\r\n"],"sourceRoot":""}