{"version":3,"sources":["webpack:///./src/app/renewals/renewals.component.html","webpack:///./src/app/renewals/renewals.component.scss","webpack:///./src/app/renewals/renewals.component.ts"],"names":[],"mappings":"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","file":"default~loyalty-loyalty-module~renewals-renewals-module.js","sourcesContent":["module.exports = \"<section class=\\\"basic-elements\\\">\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t    <div class=\\\"col-md-6\\\">\\r\\n\\t        <div class=\\\"content-header\\\">Renewals</div>\\r\\n\\t    </div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<div class=\\\"col-md-12\\\">\\r\\n\\t\\t\\t<div class=\\\"card\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"card-header\\\">\\r\\n\\t\\t\\t\\t\\t<!-- <div class=\\\"card-title-wrap bar-success\\\">\\r\\n\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-success btn-raised\\\" (click)=\\\"recRenewal()\\\" style=\\\"margin-right: 14px;\\\">Recent Renewal</button>\\r\\n    \\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-danger btn-raised\\\" (click)=\\\"pendRenewal()\\\">Pending Renewal</button>\\r\\n\\t\\t\\t\\t\\t</div> -->\\r\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\r\\n\\t\\t\\t\\t        <div class=\\\"card-block\\\">\\r\\n\\t\\t\\t\\t        \\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t          <div class=\\\"col-md-4\\\">\\r\\n\\t\\t\\t\\t\\t            <div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t              <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"searchText\\\" (keyup)='updateFilter($event)' placeholder=\\\"Search Member...\\\">\\r\\n\\t\\t\\t\\t\\t            </div>\\r\\n\\t\\t\\t\\t\\t          </div>\\r\\n\\t\\t\\t\\t\\t          <div class=\\\"col-md-3\\\">\\r\\n\\t\\t\\t\\t\\t            <div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t              <button type=\\\"button\\\" class=\\\"btn btn-info btn-raised\\\" (click)=\\\"reset()\\\" style=\\\"margin-right: 14px;\\\">Reset</button>\\r\\n\\t\\t\\t\\t\\t            </div>\\r\\n\\t\\t\\t\\t\\t          </div>\\r\\n\\t\\t\\t\\t        \\t</div>\\r\\n\\t\\t\\t\\t        \\t<!-- <ngx-datatable #table class='bootstrap' [rows]=\\\"rows\\\" [columns]=\\\"columns\\\" [columnMode]=\\\"'force'\\\" [headerHeight]=\\\"50\\\" [footerHeight]=\\\"50\\\"\\r\\n\\t\\t\\t\\t              [rowHeight]=\\\"'auto'\\\" [limit]=\\\"10\\\">\\r\\n\\t\\t\\t\\t              </ngx-datatable> -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<ngx-datatable *ngIf=\\\"recentRenewal\\\" #table class='bootstrap' [rows]=\\\"renewals\\\" [columns]=\\\"columns\\\" [columnMode]=\\\"'force'\\\" [headerHeight]=\\\"50\\\" [footerHeight]=\\\"50\\\" [rowHeight]=\\\"'auto'\\\" [limit]=\\\"20\\\" [loadingIndicator]=\\\"isLoading\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<ngx-datatable-column name=\\\"Transaction Id\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t {{row.transaction_id}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t </ngx-datatable-column>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t <ngx-datatable-column name=\\\"User Name\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t {{row.name}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t </ngx-datatable-column>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t <ngx-datatable-column name=\\\"Membership Plan\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t {{row.plans}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t </ngx-datatable-column>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t <ngx-datatable-column name=\\\"Expiry Date\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t {{row.expire_date}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t </ngx-datatable-column>\\r\\n\\t\\t\\t\\t\\t\\t\\t</ngx-datatable>\\r\\n\\t\\t\\t\\t\\t\\t\\t<ngx-datatable *ngIf=\\\"pendingRenewal\\\" #table class='bootstrap' [rows]=\\\"pendingRenewals\\\" [columns]=\\\"columns\\\" [columnMode]=\\\"'force'\\\" [headerHeight]=\\\"50\\\" [footerHeight]=\\\"50\\\" [rowHeight]=\\\"'auto'\\\" [limit]=\\\"10\\\" [loadingIndicator]=\\\"isLoading\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<ngx-datatable-column name=\\\"Transaction Id\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t {{row.transaction_id}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t </ngx-datatable-column>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t <ngx-datatable-column name=\\\"User Name\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t {{row.name}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t </ngx-datatable-column>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t <ngx-datatable-column name=\\\"Membership Plan\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t {{row.plans}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t </ngx-datatable-column>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t <ngx-datatable-column name=\\\"Expiry Date\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t {{row.expire_date}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t </ngx-datatable-column>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t <ngx-datatable-column name=\\\"Action\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t <a class=\\\"success p-0\\\" data-original-title=\\\"\\\" title=\\\"\\\" *ngIf=\\\"row.sentMail == 1 && row.user_id == userId\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t Notified User\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t </a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t <a class=\\\"danger p-0\\\" data-original-title=\\\"\\\" title=\\\"\\\" *ngIf=\\\"sentEmail == false && row.sentMail == 0\\\" (click)=\\\"sendEmail(row.id, row.email, row.name, row.plans, row.expire_date)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t Remind User\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t </a>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t </ng-template>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t </ngx-datatable-column>\\r\\n\\t\\t\\t\\t\\t\\t\\t</ngx-datatable>\\r\\n\\t\\t\\t\\t            <!-- <table class=\\\"table table-responsive-sm\\\">\\r\\n\\t\\t\\t\\t                <thead>\\r\\n\\t\\t\\t\\t                    <tr>\\r\\n\\t\\t\\t\\t                        <th>Transaction ID</th>\\r\\n\\t\\t\\t\\t                        <th>User Name</th>\\r\\n\\t\\t\\t\\t                        <th>Membership Plan</th>\\r\\n\\t\\t\\t\\t                        <th>Expiry Date</th>\\r\\n\\t\\t\\t\\t                        <th>Action</th>\\r\\n\\t\\t\\t\\t                    </tr>\\r\\n\\t\\t\\t\\t                </thead>\\r\\n\\t\\t\\t\\t                <tbody *ngIf=\\\"\\\">\\r\\n\\t\\t\\t\\t                    <tr *ngFor=\\\"let data of renewals\\\">\\r\\n\\t\\t\\t\\t                        <td>{{data.transaction_id}}</td>\\r\\n\\t\\t\\t\\t                        <td>{{data.name}}</td>\\r\\n\\t\\t\\t\\t                        <td>{{data.plans}}</td>\\r\\n\\t\\t\\t\\t                        <td>{{data.expire_date}}</td>\\r\\n\\t\\t\\t\\t                        <td></td>\\r\\n\\t\\t\\t\\t                    </tr>\\r\\n\\t\\t\\t\\t                </tbody>\\r\\n\\t\\t\\t\\t                <tbody *ngIf=\\\"pendingRenewal\\\">\\r\\n\\t\\t\\t\\t                    <tr *ngFor=\\\"let data of pendingRenewals\\\">\\r\\n\\t\\t\\t\\t                        <td>{{data.transaction_id}}</td>\\r\\n\\t\\t\\t\\t                        <td>{{data.name}}</td>\\r\\n\\t\\t\\t\\t                        <td>{{data.plans}}</td>\\r\\n\\t\\t\\t\\t                        <td>{{data.expire_date}}</td>\\r\\n\\t\\t\\t\\t                        <td>\\r\\n\\r\\n\\t\\t\\t\\t                        </td>\\r\\n\\t\\t\\t\\t                    </tr>\\r\\n\\t\\t\\t\\t                </tbody>\\r\\n\\t\\t\\t\\t            </table> -->\\r\\n\\t\\t\\t\\t        </div>\\r\\n\\t\\t\\t\\t      </div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</section>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JlbmV3YWxzL3JlbmV3YWxzLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { RenewalService } from '../shared/data/renewal.service';\r\nimport { DatatableComponent } from \"@swimlane/ngx-datatable/release\";\r\n\r\n@Component({\r\n  selector: 'app-renewals',\r\n  templateUrl: './renewals.component.html',\r\n  styleUrls: ['./renewals.component.scss']\r\n})\r\nexport class RenewalsComponent implements OnInit {\r\n\trenewals = [];\r\n\tpendingRenewals = [];\r\n  originalDataSource = [];\r\n  filteredData = [];\r\n\trecentRenewal: boolean = false;\r\n\tpendingRenewal: boolean = false;\r\n\tsentEmail = false;\r\n\tuserId = 0;\r\n\tcolumns = [\r\n        { name: 'Transaction ID' },\r\n        { name: 'User Name' },\r\n        { name: 'Membership Plan' },\r\n        // { name: 'Amount' },\r\n        // { name: 'Renewal Date' },\r\n        { name: 'Expiry Date' }\r\n    ];\r\n  @ViewChild(DatatableComponent) table: DatatableComponent;\r\n  private isLoading: boolean = false;\r\n  searchText = '';\r\n\r\n\tconstructor(public renewalservice: RenewalService) {\r\n    this.isLoading = true;\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\t// this.getRenewals();\r\n    this.renewalservice.getRenewal().then(data => {\r\n      if(data['status'] == 'success'){\r\n        //this.renewals = data['renewal'];\r\n        // for (let i = 0; i < data['renewal'].length; i++) {\r\n        //   if(data['renewal'][i]['pendingRenewal'] == 0){\r\n        //     this.renewals.push(data['renewal'][i]);\r\n        //   //console.log(this.renewals);\r\n        //   }\r\n        //   else{\r\n            this.pendingRenewals = data['renewal'];\r\n            this.originalDataSource = data['renewal'];\r\n            this.filteredData = data['renewal'];\r\n          //console.log(this.pendingRenewals);\r\n        //   }\r\n        // }\r\n        // this.recRenewal();\r\n      }\r\n      else{\r\n        this.renewals = [];\r\n        this.pendingRenewals = [];\r\n        this.originalDataSource = [];\r\n        this.filteredData = [];\r\n      }\r\n      this.pendingRenewal = true;\r\n  \t\tthis.recentRenewal = false;\r\n      this.isLoading = false;\r\n    });\r\n\t}\r\n\r\n  getRenewals(){\r\n    this.renewalservice.getRenewal().then(data => {\r\n\t\t\tif(data['status'] == 'success'){\r\n        //this.renewals = data['renewal'];\r\n    \t\tfor (let i = 0; i < data['renewal'].length; i++) {\r\n    \t\t\tif(data['renewal'][i]['pendingRenewal'] == 0){\r\n    \t\t\t\tthis.renewals.push(data['renewal'][i]);\r\n\t\t\t\t\t//console.log(this.renewals);\r\n    \t\t\t}\r\n    \t\t\telse{\r\n    \t\t\t\tthis.pendingRenewals.push(data['renewal'][i]);\r\n\t\t\t\t\t//console.log(this.pendingRenewals);\r\n    \t\t\t}\r\n    \t\t}\r\n        this.recRenewal();\r\n\t\t\t}\r\n      else{\r\n        this.renewals = [];\r\n        this.pendingRenewals = [];\r\n      }\r\n\t\t});\r\n  }\r\n\r\n\trecRenewal() {\r\n\t\tthis.recentRenewal = true;\r\n\t\tthis.pendingRenewal = false;\r\n\t}\r\n\r\n\tpendRenewal() {\r\n\r\n\t}\r\n\r\n  reset(){\r\n    this.pendingRenewals = this.originalDataSource;\r\n    this.searchText = '';\r\n    this.table.offset = 0;\r\n  }\r\n\r\n  updateFilter(event){\r\n    if(event.target.value != ''){\r\n      this.searchText = event.target.value.toLowerCase();\r\n      let val = event.target.value.toLowerCase();\r\n      let keys = Object.keys(this.pendingRenewals[0]);\r\n      let colsAmt = keys.length;\r\n      this.pendingRenewals = this.filteredData.filter(function(item){\r\n        for (let i=0; i<colsAmt; i++){\r\n          if (item[keys[i]] != null){\r\n            if(item[keys[i]].toString().toLowerCase().indexOf(val) !== -1 || !val){\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n    else{\r\n      this.pendingRenewals = this.originalDataSource;\r\n    }\r\n    this.table.offset = 0;\r\n  }\r\n\r\n\tsendEmail(id, email, name, plans, expire_date){\r\n\t\tthis.userId = id;\r\n\t\t// debugger;\r\n    \tthis.renewalservice.sendRenewalEmail(id, email, name, plans, expire_date).then(data => {\r\n    \t\tif(data['status'] == 'success'){\r\n          this.getRenewals();\r\n    \t\t\tthis.sentEmail = true;\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\n}\r\n"],"sourceRoot":""}